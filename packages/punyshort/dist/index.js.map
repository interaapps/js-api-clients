{"version":3,"file":"index.js","sources":["../index.ts"],"sourcesContent":["import { BaseClient } from '@interaapps/base-client';\nexport * from './exceptions'\nimport * as exceptions from \"./exceptions\";\n\nexport * from './types/requests'\nexport * from './types/responses'\n\nimport {\n    EditUserRequest,\n    CreateAccessTokenRequest,\n    CreateDomainRequest,\n    FollowLinkRequest,\n    ShortenLinkRequest,\n    AddDomainRequest,\n    CreateWorkspaceInvitationRequest,\n    CreateWorkspaceRequest,\n    EditWorkspaceUserRequest, ShortenLinkFilters, Filters\n} from './types/requests';\n\nimport {\n    ActionResponse,\n    PaginatedResponse,\n    WorkspaceUser,\n    Domain,\n    ShortenLink,\n    Workspace,\n    CreateAccessToken,\n    User, DateStats, CountryStats, OperatingSystemStats\n} from './types/responses';\n\nexport class PunyshortClient extends BaseClient {\n    constructor(apiToken: string|undefined = undefined, baseURL: string = 'https://api.punyshort.intera.dev') {\n        super(`${baseURL}/v1`);\n        this.registeredExceptions = exceptions\n        if (apiToken) this.setBearerToken(apiToken)\n    }\n\n    setApiToken(token: string) {\n        this.setBearerToken(token)\n        return this;\n    }\n\n    // User\n    async getUser(): Promise<User> {\n        return (await this.get('/user')).data as User;\n    }\n    async editUser(id: string, req: EditUserRequest): Promise<ActionResponse> {\n        return (await this.put(`/admin/users/${id}`, req)).data as ActionResponse;\n    }\n\n    // Access Token\n    async createAccessToken(req: CreateAccessTokenRequest): Promise<CreateAccessToken> {\n        return (await this.post('/access-tokens', req)).data as CreateAccessToken;\n    }\n    async getAccessTokens(): Promise<string[]> {\n        return (await this.get('/access-tokens')).data as string[];\n    }\n    async deleteAccessToken(key: string): Promise<ActionResponse> {\n        return (await this.delete(`/access-tokens/${key}`)).data as ActionResponse;\n    }\n\n    async getDomains(): Promise<PaginatedResponse<Domain>> {\n        return (await this.get('/domains')).data as PaginatedResponse<Domain>;\n    }\n    async createDomain(req: CreateDomainRequest): Promise<Domain> {\n        return (await this.post('/domains', req)).data as Domain;\n    }\n    async deleteDomain(id: string): Promise<ActionResponse> {\n        return (await this.delete(`/domains/${id}`)).data as ActionResponse;\n    }\n\n    async shortenLink(req: ShortenLinkRequest): Promise<ShortenLink> {\n        console.log(req)\n        return (await this.post('/shorten-links', req)).data as ShortenLink;\n    }\n    async getShortenLinks(params: ShortenLinkFilters = {}): Promise<PaginatedResponse<ShortenLink>> {\n        return (await this.get('/shorten-links', {params})).data as PaginatedResponse<ShortenLink>;\n    }\n    async getShortenLink(id: string): Promise<ShortenLink> {\n        return (await this.get(`/shorten-links/${id}`)).data as ShortenLink;\n    }\n    async editShortenLink(id: string, req: ShortenLinkRequest): Promise<ActionResponse> {\n        return (await this.put(`/shorten-links/${id}`, req)).data as ActionResponse;\n    }\n    async deleteShortenLink(id: string): Promise<ActionResponse> {\n        return (await this.delete(`/shorten-links/${id}`)).data as ActionResponse;\n    }\n\n\n    async getShortenLinkStatsTotal(id: string) {\n        return (await this.get(`/shorten-links/${id}/stats/total`)).data as number;\n    }\n    async getShortenLinkDateStats(id: string, params: Filters = {}) {\n        return (await this.get(`/shorten-links/${id}/stats/dates`, {params})).data as PaginatedResponse<DateStats>;\n    }\n    async getShortenLinkCountryStats(id: string, params: Filters = {}) {\n        return (await this.get(`/shorten-links/${id}/stats/countries`, {params})).data as PaginatedResponse<CountryStats>;\n    }\n    async getShortenLinkOperatingSystemStats(id: string, params: Filters = {}) {\n        return (await this.get(`/shorten-links/${id}/stats/operating-systems`, {params})).data as PaginatedResponse<OperatingSystemStats>;\n    }\n\n    async followLink(req: FollowLinkRequest): Promise<ShortenLink> {\n        return (await this.post('/follow', req)).data as ShortenLink;\n    }\n\n    async getWorkspaces(params: Filters = {}): Promise<PaginatedResponse<Workspace>> {\n        return (await this.get('/workspaces', {params})).data as PaginatedResponse<Workspace>;\n    }\n    async createWorkspace(req: CreateWorkspaceRequest): Promise<Workspace> {\n        return (await this.post('/workspaces', req)).data as Workspace;\n    }\n    async deleteWorkspace(id: string): Promise<ActionResponse> {\n        return (await this.delete(`/workspaces/${id}`)).data as ActionResponse;\n    }\n    async getWorkspace(id: string): Promise<Workspace> {\n        return (await this.get(`/workspaces/${id}`)).data as Workspace;\n    }\n\n    async getWorkspaceUsers(workspaceId: string, params: Filters = {}): Promise<PaginatedResponse<WorkspaceUser>> {\n        return (await this.get(`/workspaces/${workspaceId}/users`, {params})).data as PaginatedResponse<WorkspaceUser>;\n    }\n    async inviteWorkspaceUser(workspaceId: string, req: CreateWorkspaceInvitationRequest): Promise<ActionResponse> {\n        return (await this.post(`/workspaces/${workspaceId}/users`, req)).data as ActionResponse;\n    }\n    async editWorkspaceUser(workspaceId: string, userId: string, req: EditWorkspaceUserRequest): Promise<ActionResponse> {\n        return (await this.put(`/workspaces/${workspaceId}/users/${userId}`, req)).data as ActionResponse;\n    }\n    async removeWorkspaceUser(workspaceId: string, userId: string): Promise<ActionResponse> {\n        return (await this.delete(`/workspaces/${workspaceId}/users/${userId}`)).data as ActionResponse;\n    }\n    async acceptWorkspaceInvitation(workspaceId: string, userId: string): Promise<ActionResponse> {\n        return (await this.post(`/workspaces/${workspaceId}/users/${userId}/accept`)).data as ActionResponse;\n    }\n\n    async getWorkspaceDomains(workspaceId: string, params: Filters = {}): Promise<PaginatedResponse<Domain>> {\n        return (await this.get(`/workspaces/${workspaceId}/domains`, {params})).data as PaginatedResponse<Domain>;\n    }\n    async addWorkspaceDomain(workspaceId: string, req: AddDomainRequest): Promise<Domain> {\n        return (await this.post(`/workspaces/${workspaceId}/domains`, req)).data as Domain;\n    }\n    async removeWorkspaceDomain(workspaceId: string, domainId: string): Promise<ActionResponse> {\n        return (await this.delete(`/workspaces/${workspaceId}/domains/${domainId}`)).data as ActionResponse;\n    }\n}"],"names":["BaseClient"],"mappings":"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"}